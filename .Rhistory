raw.loan <- read.csv("loan.csv",header = T, stringsAsFactors = FALSE)
loan <- raw.loan
str(loan)
View(loan)
summary(loan)
length(unique(loan$id))
summary(loan)
str(loan)
length(unique(loan$id))
length(unique(loan$member_id))
length(unique(loan$loan_amnt)) #885 values
summary(loan$loan_amnt)
max(loan$loan_amnt) #35000
min(loan$loan_amnt) #500
str(loan$loan_amnt)
summary(loan$term)
sum(is.na(loan$loan_amnt))
summary(loan$term)
table(loan$int_rate)
summary(loan$int_rate) #371 levels
levels(loan$int_rate)
levels(loan$grade) #7 levels "A" "B" "C" "D" "E" "F" "G"
levels(loan$sub_grade) # 35 levels A1-A5, B1-B5, C1-C5 , D1-D5 , E1-E5, F1-F5, G1-G5
unique(loan$sub_grade)
arrange(unique(loan$sub_grade))
library(dplyr)
arrange(unique(loan$sub_grade))
arrange(unique(loan$sub_grade))
arrange(as.table(unique(loan$sub_grade)))
arrange(table(unique(loan$sub_grade)))
unique(loan$sub_grade)
sort(unique(loan$sub_grade))
raw.loan <- read.csv("loan.csv",header = T, stringsAsFactors = FALSE)
loan <- raw.loan
str(loan)
summary(loan)
nrow(loan)
list.files()
unzip(zipfile = "loan.zip", exdir = ".")
raw.loan <- read.csv("loan.csv",header = T, stringsAsFactors = FALSE)
loan <- raw.loan
str(loan)
nrow(loan)
table(loan)
str(loan)
dim(loan)
length(unique(loan$id))
length(unique(loan$member_id))
str(loan)
summary(loan)
Desc(loan$loan_amnt, main = "Loan Amount Distribution", plotit = TRUE)
desc(loan$loan_amnt, main = "Loan Amount Distribution", plotit = TRUE)
summary(loan$loan_amnt)
quantile(loan$loan_amnt)
check_amt <- function(amt){
summary(amt)
quantile(amt)
}
check_amt(loan$loan_amnt)
summary(amt) + quantile(amt)
check_amt <- function(amt){
summary(amt) + quantile(amt)
}
check_amt(loan$loan_amnt)
View(check_amt)
summary(loan$loan_amnt)
quantile(loan$loan_amnt)
summary(loan[,c(3,4,5)])
summary(loan$term)
summary(factor(loan$term))
summary(loan$int_rate) #371 levels
summary(factor(loan$int_rate)) #371 levels
table(loan$int_rate)
levels(loan$int_rate)
levels(factor(loan$int_rate))
summary(loan)
loan %>% mutate(
term = factor(term)
)
summary(loan %>% mutate(
term = factor(term)
))
summary(loan %>% mutate(
term = factor(term),
int_rate = gsub("%", "", int_rate)
))
summary(loan %>% mutate(
term = factor(term),
int_rate = as.numeric(gsub("%", "", int_rate))
))
summary(loan %>% mutate(
term = factor(term),
int_rate = as.numeric(gsub("%", "", int_rate)),
grade = factor(grade),
sub_grade = factor(sub_grade),
home_ownership = factor(home_ownership),
verification_status = factor(verification_status),
loan_status = factor(loan_status),
pymnt_plan = factor(pymnt_plan),
purpose = factor(purpose),
addr_state = factor(addr_state)
))
raw.loan <- read.csv("loan.csv",header = T)
loan <- raw.loan
dim(loan) #39717 rows and #111 columns
str(loan)
summary(loan)
summary(loan %>% mutate(
int_rate = as.numeric(gsub("%", "", int_rate)), #Change the percentages to numbers
emp_title = as.character(emp_title)
##issue_d = as.Date() -- Am not getting the date format
##earliest_cr_line = as.Date(),
))
loan <- loan %>% mutate(
int_rate_perc = as.numeric(gsub("%", "", int_rate)), #Change the percentages to numbers
emp_title = as.character(emp_title),
##issue_d = as.Date() -- Am not getting the date format
url = as.character(url),
desc = as.character(desc),
title = as.character(title),
delinq_2yrs = factor(delinq_2yrs),
##earliest_cr_line = as.Date(),
inq_last_6mths = factor(inq_last_6mths),
revol_util_perc = as.numeric(gsub("%", "", revol_util))
##last_pymnt_d = as.Date()
)
length(unique(loan$id))
length(unique(loan$member_id))
summary(loan[,c(3,4,5)])
summary(factor(loan$term))
summary(loan[,c(3,4,5,7)])
summary(loan[,c(3,4,5,8)])
levels(loan$grade) #7 levels "A" "B" "C" "D" "E" "F" "G"
levels(loan$sub_grade) # 35 levels A1-A5, B1-B5, C1-C5 , D1-D5 , E1-E5, F1-F5, G1-G5
table(loan$chargeoff_within_12_mths)
table(loan$pub_rec_bankruptcies)
table(loan$tax_liens)
clean_loan<-loan [sapply(loan, function(x) length(unique(x))>1)]
ncol(loan) - ncol(clean_loan)
clean_loan
View(clean_loan)
clean_loan<-clean_loan [sapply(clean_loan, function(x) length(unique(na.omit(x)))>1)]
ncol(loan) - ncol(clean_loan)
library(dplyr)
raw.loan <- read.csv("loan.csv",header = T)
loan <- raw.loan
dim(loan) #39717 rows and #111 columns
str(loan)
summary(loan)
length(unique(loan$id))
length(unique(loan$id))
loan <- loan %>% mutate(
int_rate_perc = as.numeric(gsub("%", "", int_rate_perc)), #Change the percentages to numbers
emp_title = as.character(emp_title),
##issue_d = as.Date() -- Am not getting the date format
url = as.character(url),
desc = as.character(desc),
title = as.character(title),
delinq_2yrs = factor(delinq_2yrs),
##earliest_cr_line = as.Date(),
inq_last_6mths = factor(inq_last_6mths),
revol_util_perc = as.numeric(gsub("%", "", revol_util_perc))
##last_pymnt_d = as.Date()
)
loan <- loan %>% mutate(
int_rate_perc = as.numeric(gsub("%", "", int_rate)), #Change the percentages to numbers
emp_title = as.character(emp_title),
##issue_d = as.Date() -- Am not getting the date format
url = as.character(url),
desc = as.character(desc),
title = as.character(title),
delinq_2yrs = factor(delinq_2yrs),
##earliest_cr_line = as.Date(),
inq_last_6mths = factor(inq_last_6mths),
revol_util_perc = as.numeric(gsub("%", "", revol_util))
##last_pymnt_d = as.Date()
)
library(ggplot2)
library(dplyr)
us <- map_data("state")
install.packages("maps")
us <- map_data("state")
us
us$region
unique(us$region)
USArrests
arr <- USArrests %>%
add_rownames("region") %>%
mutate(region=tolower(region))
arr <- USArrests %>%
add_rownames("region") %>%
mutate(region=tolower(region))
arr
gg <- ggplot()
gg
gg <- gg + geom_map(data=us, map=us,
aes(x=long, y=lat, map_id=region),
fill="#ffffff", color="#ffffff", size=0.15)
gg
gg <- gg + geom_map(data=arr, map=us,
aes(fill=Murder, map_id=region),
color="#ffffff", size=0.15)
gg
us
View(us)
us <- map_data("state")
view(USArrests)
View(USArrests)
View(loan)
gg <- ggplot()
gg <- gg + geom_map(data=us, map=us,
aes(x=long, y=lat, map_id=region),
fill="#ffffff", color="#ffffff", size=0.15)
gg
View(USArrests)
gg <- gg + geom_map(data = loan, map = us, aes(fill = loan_amnt, map_id = addr_state))
gg
state.abb[grep("New York", state.name)]
grep("New York", state.name)
state.name
transmute(state.name, state.abb(state.name))
transmute(state.name, state.abb[state.name])
transmute(state.name, state.abb())
transmute(state.name, state.abb
transmute(state.name, state.abb)
transmute(state.name, state.abb)
transmute(state.name)
state.abb[state.name]
View(state.name)
state.name
unique(us$region)
state.name[grep("NY", state.abb)]
state.name[grep(loan$addr_state, state.abb)]
transmute(loan$addr_state)
library(stringr)
transmute(loan, addr_state,
)
transmute(loan, addr_state, name=state.name[grep(addr_state, state.abb)])
View(transmute(loan, addr_state, name=state.name[grep(addr_state, state.abb)]))
setNames(state.abb, state.name)["New York"]
setNames(state.abb, state.name)
as.data.frame(state.abb, state.name)
as.data.frame(state = state.abb, abbr = state.name)
as.data.frame(state.abb, state.name)
as.data.frame(state.abb, state.name) %>% colnames("States", "Abrv")
colnames(as.data.frame(state.abb, state.name)) <- c("State", "Abvr")
us <- as.data.frame(state.abb, state.name)
us1 <- as.data.frame(state.abb, state.name)
us <- map_data("state")
us1 %>% add_rownames("State")
